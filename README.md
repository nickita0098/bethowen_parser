# Скрипт для загрузки данных bethowen.ru и записи их в CSV

Этот скрипт предназначен для получения данных из API и записи их в CSV-файл. Скрипт использует многопоточность и применяет обработку ошибок с повторными попытками в случае неудачи.

## Описание

1. **Получение списка категорий**: Скрипт может извлекать идентификаторы категорий из API и записывать данные товаров для указанных категорий в CSV-файл.
2. **Получение товаров**: Для каждой категории скрипт запрашивает данные о товарах и записывает их в файл.
3. **Обработка ошибок**: В случае неудачных попыток запросов скрипт будет повторять запросы с увеличением интервала.

## Установка

1. **Клонируйте репозиторий:**
    ```bash
    git clone https://github.com/nickita0098/bethowen_parser.git
    ```

2. **Создайте и активируйте виртуальное окружение:**
    ```bash
    python -m venv .venv
    .venv\Scripts\activate
    source .venv/bin/activate
    ```

3. **Установите необходимые зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

4. **Создайте файл `config.ini` в корневом каталоге проекта, основанный на примере из `config.example.ini`:**
    - Для корректной работы измените адрес прокси-сервера для запросов (замените `username`, `password`, `proxy_address` и `port` на соответствующие значения).
    - Если нужно получить товары по определённой категории, добавьте её в `category_id`. В противном случае оставьте `None`.
    - Для изменения города для сбора данных измените `town`/`region` на соответствующие:
    - - `Тольятти`/`49`
    - - `Самара`/`155049`
    - - `Москва`/`84`
    - - `Санкт-Петербург`/`85`
5. **Скрипт формирует файл `bethowen_products.csv` с полями:**

- `town` — ID города.
- `code` — Код товара.
- `name` — Название товара.
- `retail_price` — Розничная цена.
- `discount_price` — Скидочная цена.
- `is_available` — Доступность товара в указаном городе.
